<div class="sidebar-container h-full flex flex-col bg-surface-900">
  <!-- Header -->
  <div class="sidebar-header p-4 border-b border-surface-700">
    <div class="flex items-center gap-2 justify-between">
      <div class="flex items-center gap-2">
        <img src="assets/favicon-32x32.png" alt="Oracle" class="w-8 h-8">
        <h2 class="text-2xl font-bold text-primary mb-0">Oracle</h2>
      </div>
      <div class="flex items-center gap-1">
        <button 
          (click)="reloadPage()"
          class="p-2 hover:bg-surface-700 rounded-lg transition-colors"
          title="Reload Page"
        >
          <i class="pi pi-sync text-gray-400 hover:text-primary text-lg"></i>
        </button>
        <button 
          (click)="restartServer()"
          class="p-2 hover:bg-surface-700 rounded-lg transition-colors"
          title="Restart Server"
        >
          <i class="pi pi-refresh text-gray-400 hover:text-primary text-lg"></i>
        </button>
      </div>
    </div>
    @if (playerName) {
      <div class="mt-2">
        <p class="text-sm text-gray-200 font-medium">{{ playerName }}</p>
        @if (shouldShowLevel) {
          <div class="flex items-center gap-2 mt-1">
            <span class="text-xs text-gray-400">Level {{ playerLevel }}</span>
            <div class="flex-1 h-1.5 bg-surface-700 rounded-full overflow-hidden">
              <div 
                class="h-full bg-primary-500 transition-all duration-300"
                [style.width.%]="expPercentage"
              ></div>
            </div>
            <span class="text-xs text-gray-400">{{ expPercentage | number:'1.0-1' }}%</span>
          </div>
        }
      </div>
    }
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav flex-1 overflow-y-auto p-3">
    @for (section of menuSections; track section.title) {
      <div class="menu-section mb-4">
        <!-- Section Title -->
        <div class="section-title px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider border-b border-surface-700 mb-2">
          {{ section.title }}
        </div>
        
        <!-- Section Items -->
        <div class="section-items">
          @for (item of section.items; track item.route) {
            <a 
              (click)="navigate(item.route)"
              [class.active]="isActive(item.route)"
              class="menu-item flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer transition-all duration-200 mb-1"
            >
              <i [class]="item.icon + ' text-lg'"></i>
              <span class="text-sm font-medium">{{ item.label }}</span>
            </a>
          }
        </div>
      </div>
    }
  </nav>
</div>
